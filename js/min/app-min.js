function currentDrink(e){for(var i in drinks)drinks.hasOwnProperty(i)&&(i===e?drinks[i]=!0:drinks[i]=!1)}var counter=0,myInterval,scaleBy,liquidHeight={coffee:"",steamedMilk:"",foamedMilk:""},origLiquidHeight={coffee:"",steamedMilk:"",foamedMilk:""},showLiquid=1,drinks={espresso:!0,doubleEspresso:!1,tripleEspresso:!1,cortado:!1,flatWhite:!1,dryCapuccino:!1,latte:!1,doubleLatte:!1,capuccino:!1};$(document).ready(function(){var e=document.getElementById("coffee"),i=new Hammer(e),o=document.getElementById("steamed-milk"),s=propagating(new Hammer(o)),t=document.getElementById("foamed-milk"),n=propagating(new Hammer(t)),r=document.getElementById("container"),l=propagating(new Hammer(r)),d=$("#drink");i.on("press",function(i){liquidHeight.coffee=$(e).height(),origLiquidHeight.coffee=liquidHeight.coffee,1===showLiquid?myInterval=setInterval(function(){++counter,counter>=origLiquidHeight.coffee&&!drinks.doubleEspresso?(d.html("").hide().addClass("flip-in-x").html("double espresso").show(),setTimeout(function(){d.removeClass("flip-in-x")},500),console.log("class set"),drinks.doubleEspresso=!0):counter>=2*origLiquidHeight.coffee&&!drinks.tripleEspresso&&(d.html("").hide().addClass("flip-in-x").html("triple espresso").show(),setTimeout(function(){d.removeClass("flip-in-x")},500),drinks.tripleEspresso=!0),scaleBy=origLiquidHeight.coffee+counter,drinks.tripleEspresso||$(e).css({height:scaleBy+"px"})},2):2===showLiquid?$(e).addClass("no-drinks"):3===showLiquid&&(counter=0,drinks.latte&&(liquidHeight.coffee=$(e).height(),origLiquidHeight.coffee=liquidHeight.coffee,console.log(origLiquidHeight.coffee),myInterval=setInterval(function(){++counter,console.log(counter),counter>=origLiquidHeight.coffee&&(d.html("").hide().addClass("flip-in-x").html("double latte").show(),setTimeout(function(){d.removeClass("flip-in-x")},500),console.log("class set"),currentDrink("doubleLatte")),scaleBy=origLiquidHeight.coffee+counter,drinks.doubleLatte||$(e).css({height:scaleBy+"px"})},2)),drinks.doubleLatte&&(counter=0),drinks.capuccino&&(counter=0))}),i.on("pressup",function(i){clearInterval(myInterval),1===showLiquid?(drinks.doubleEspresso||drinks.tripleEspresso,counter=0):2===showLiquid?$(e).removeClass("no-drinks"):3===showLiquid&&(counter=0,clearInterval(myInterval),currentDrink("doubleLatte"))}),n.on("press",function(e){}),n.on("pressup",function(e){}),n.on("tap",function(e){}),s.on("press",function(e){}),s.on("pressup",function(e){}),s.on("tap",function(e){}),l.on("tap",function(i){showLiquid++,$(e).css({height:""}),2===showLiquid?($(t).removeClass("not-poured").addClass("half"),d.html("").hide().addClass("flip-in-x").html("cortado").show(),setTimeout(function(){d.removeClass("flip-in-x")},500),currentDrink("cortado")):3===showLiquid?($(o).removeClass("not-poured").removeClass("double"),$(t).removeClass("half").css({height:""}).addClass("drop"),d.html("").hide().addClass("flip-in-x").html("latte").show(),setTimeout(function(){d.removeClass("flip-in-x")},500),currentDrink("latte")):($(t).addClass("not-poured").removeClass("drop"),$(o).addClass("not-poured"),showLiquid=1,d.html("").hide().addClass("flip-in-x").html("espresso").show(),setTimeout(function(){d.removeClass("flip-in-x")},500),currentDrink("espresso"))})});